import{r as c,j as e,h as w,L as A}from"./index-mevkwHaZ.js";import{C as v,a as S}from"./CCardBody-CP4vN_EJ.js";import{C as b}from"./CCardHeader-C8_D8-gZ.js";import{C as M}from"./CForm-BBiQ5UHJ.js";import{C,a as h}from"./CRow-YwgZdrob.js";import{a as x,C as G}from"./CFormInput-BbXKgDCo.js";import{C as f}from"./CFormSelect-CVk-gYQD.js";import{b as p}from"./index.es-StizkQ7u.js";import{I as R}from"./importExport-DNpQZdpE.js";import{C as q}from"./CTable-CD5rRVBn.js";import"./react-toastify.esm-Cm3zXmO3.js";var I=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M479.6,399.716l-81.084-81.084-62.368-25.767A175.014,175.014,0,0,0,368,192c0-97.047-78.953-176-176-176S16,94.953,16,192,94.953,368,192,368a175.034,175.034,0,0,0,101.619-32.377l25.7,62.2L400.4,478.911a56,56,0,1,0,79.2-79.195ZM48,192c0-79.4,64.6-144,144-144s144,64.6,144,144S271.4,336,192,336,48,271.4,48,192ZM456.971,456.284a24.028,24.028,0,0,1-33.942,0l-76.572-76.572-23.894-57.835L380.4,345.771l76.573,76.572A24.028,24.028,0,0,1,456.971,456.284Z' class='ci-primary'/>"];const O=({entrepreneurs:o,onFilterUpdate:u})=>{const[n,m]=c.useState({sector:"",male:!0,female:!0,region:"",gouvernorat:"",search:""}),[r,s]=c.useState([]),[t,F]=c.useState([]),[T,y]=c.useState([]),[E,N]=c.useState(!0),[Z,L]=c.useState([]);c.useEffect(()=>{const a=[...new Set(o.map(l=>l.secteurActivites))],i=[...new Set(o.map(l=>l.region))],d=[...new Set(o.map(l=>l.gouvernorat))];s(a),F(i),y(d)},[o]),c.useEffect(()=>{N(n.male||n.female)},[n.male,n.female]),c.useEffect(()=>{const a=o.filter(i=>Object.values(i).some(d=>d.toString().toLowerCase().includes(n.search.toLowerCase())));L(a)},[n.search,o]);const j=a=>{const{name:i,value:d}=a.target;m(l=>({...l,[i]:d}))},g=a=>{const{name:i,checked:d}=a.target;m(l=>({...l,[i]:d}))},k=a=>{a.preventDefault(),u(n)};return e.jsxs(v,{className:"mb-4 shadow",children:[e.jsx(b,{className:"bg-primary text-white",children:"Advanced Filter"}),e.jsx(S,{children:e.jsxs(M,{onSubmit:k,children:[e.jsxs(C,{className:"mb-3",children:[e.jsxs(h,{md:"4",children:[e.jsx(x,{htmlFor:"sector",children:"Sector"}),e.jsxs(f,{name:"sector",value:n.sector,onChange:j,children:[e.jsx("option",{value:"",children:"All Sectors"}),r.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs(h,{md:"4",children:[e.jsx(x,{children:"Gender"}),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"male",name:"male",checked:n.male,onChange:g}),e.jsx("label",{htmlFor:"male",className:"mx-2",children:"Male"}),e.jsx("input",{type:"checkbox",id:"female",name:"female",checked:n.female,onChange:g}),e.jsx("label",{htmlFor:"female",className:"mx-2",children:"Female"})]})]}),e.jsxs(h,{md:"4",children:[e.jsx(x,{htmlFor:"region",children:"Region"}),e.jsxs(f,{name:"region",value:n.region,onChange:j,children:[e.jsx("option",{value:"",children:"All Regions"}),t.map(a=>e.jsx("option",{value:a,children:a},a))]})]})]}),e.jsx(C,{children:e.jsxs(h,{md:"12",children:[e.jsx(x,{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"input-group",children:[e.jsx(G,{type:"text",id:"search",name:"search",className:"form-control",placeholder:"Search...",value:n.search,onChange:j}),e.jsx(p,{type:"submit",color:"primary",className:"input-group-text",children:e.jsx("svg",{className:"icon",children:e.jsx("use",{xlinkHref:I})})})]})]})}),e.jsx(p,{type:"submit",color:"primary",className:"mt-3",disabled:!E,children:"Apply Filters"})]})})]})},V=()=>{const o=w(r=>r.entrepreneurs.entrepreneurs),[u,n]=c.useState(o);c.useEffect(()=>{n(o)},[o]);const m=r=>{let s=o;r.sector&&(s=s.filter(t=>t.secteurActivites===r.sector)),r.gender&&(s=s.filter(t=>t.gender===r.gender)),r.region&&(s=s.filter(t=>t.region===r.region)),r.ageMin&&(s=s.filter(t=>t.age>=r.ageMin)),r.ageMax&&(s=s.filter(t=>t.age<=r.ageMax)),r.gouvernorat&&(s=s.filter(t=>t.gouvernorat===r.gouvernorat)),r.nom&&(s=s.filter(t=>t.nom.toLowerCase().includes(r.nom.toLowerCase()))),r.prenom&&(s=s.filter(t=>t.prenom.toLowerCase().includes(r.prenom.toLowerCase()))),n(s)};return e.jsxs("div",{children:[e.jsx(O,{entrepreneurs:o,onFilterUpdate:m}),e.jsx(R,{}),e.jsxs(v,{className:" mt-2",children:[e.jsx(b,{className:"bg-dark text-light",children:"Entrepreneurs"}),e.jsx(S,{children:e.jsxs(q,{responsive:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("input",{type:"checkbox"})}),e.jsx("th",{children:"Entrepreneur Name"}),e.jsx("th",{children:"Startup Name"}),e.jsx("th",{children:"Activities Sector"}),e.jsx("th",{children:"Tel"}),e.jsx("th",{children:"Mail"}),e.jsx("th",{})," "]})}),e.jsx("tbody",{children:u.map(r=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox"})}),e.jsxs("td",{children:[r.nom," ",r.prenom]}),e.jsx("td",{children:r.startupName}),e.jsx("td",{children:r.secteurActivites}),e.jsx("td",{children:r.tel}),e.jsx("td",{children:r.email}),e.jsx("td",{children:e.jsx(A,{to:`${r._id}`,children:e.jsx(p,{color:"primary",children:"See More"})})})]},r._id))})]})})]})]})};export{V as default};
