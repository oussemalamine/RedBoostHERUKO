import{r as m,_ as J,R as y,a as P,c as U,P as c,b as Z,g as p,j as e,L as j,q as H,f as L}from"./index-CtmX7WYL.js";import{e as E,f as u,i as b,h as V}from"./index.es-D9-wHAbD.js";import{r as v,s as D,t as w,u as i,a as T,v as W,U as O,l as _,m as G,n as R,o as N,p as I,q as k,w as q}from"./DefaultLayout-CyiIXMMn.js";import{i as $}from"./user-D27XD59X.js";import{a as M,b as z}from"./index.esm-CY5JD1iv.js";import{a as f,b as C}from"./isObject-B713891n.js";import{g as A}from"./getStyle-JCh7QGcO.js";import{F as Y,i as K}from"./index-ClEtNZvs.js";import"./cil-user-BmgviaXM.js";import"./index-lj2RjtZz.js";import"./chart-Dp4mhDtA.js";var g=m.forwardRef(function(n,o){var l,x=n.action,h=n.chart,s=n.className,a=n.color,r=n.title,t=n.value,d=J(n,["action","chart","className","color","title","value"]);return y.createElement(f,P({className:U((l={},l["bg-".concat(a)]=a,l["text-white"]=a,l),s)},d,{ref:o}),y.createElement(C,{className:"pb-0 d-flex justify-content-between align-items-start"},y.createElement("div",null,t&&y.createElement("div",{className:"fs-4 fw-semibold"},t),r&&y.createElement("div",null,r)),x),h)});g.propTypes={action:c.node,chart:c.oneOfType([c.string,c.node]),className:c.string,color:Z,title:c.oneOfType([c.string,c.node]),value:c.oneOfType([c.string,c.node,c.number])};g.displayName="CWidgetStatsA";var S=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M256,144a64,64,0,1,0-64-64A64.072,64.072,0,0,0,256,144Zm0-96a32,32,0,1,1-32,32A32.036,32.036,0,0,1,256,48Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M256,368a64,64,0,1,0,64,64A64.072,64.072,0,0,0,256,368Zm0,96a32,32,0,1,1,32-32A32.036,32.036,0,0,1,256,464Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M256,192a64,64,0,1,0,64,64A64.072,64.072,0,0,0,256,192Zm0,96a32,32,0,1,1,32-32A32.036,32.036,0,0,1,256,288Z' class='ci-primary'/>"],Q=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M462.541,316.3l-64.344-42.1,24.774-45.418A79.124,79.124,0,0,0,432.093,192V120A103.941,103.941,0,0,0,257.484,43.523L279.232,67a71.989,71.989,0,0,1,120.861,53v72a46.809,46.809,0,0,1-5.215,21.452L355.962,284.8l89.058,58.274a42.16,42.16,0,0,1,19.073,35.421V432h-72v32h104V378.494A74.061,74.061,0,0,0,462.541,316.3Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M318.541,348.3l-64.343-42.1,24.773-45.418A79.124,79.124,0,0,0,288.093,224V152A104.212,104.212,0,0,0,184.04,47.866C126.723,47.866,80.093,94.581,80.093,152v72a78,78,0,0,0,9.015,36.775l24.908,45.664L50.047,348.3A74.022,74.022,0,0,0,16.5,410.4L16,496H352.093V410.494A74.061,74.061,0,0,0,318.541,348.3ZM320.093,464H48.186l.31-53.506a42.158,42.158,0,0,1,19.073-35.421l88.682-58.029L117.2,245.452A46.838,46.838,0,0,1,112.093,224V152a72,72,0,1,1,144,0v72a46.809,46.809,0,0,1-5.215,21.452L211.962,316.8l89.058,58.274a42.16,42.16,0,0,1,19.073,35.421Z' class='ci-primary'/>"];const B=({className:n})=>{const o=m.useRef(null),l=m.useRef(null),x=p(r=>r.entrepreneurs.entrepreneurs),h=p(r=>r.programsSlice.programs),s=p(r=>r.sessionsSlice.sessions),a=p(r=>r.usersSlice.users);return m.useEffect(()=>{const r=()=>{o.current&&setTimeout(()=>{o.current.data.datasets[0].pointBackgroundColor=A("--cui-primary"),o.current.update()}),l.current&&setTimeout(()=>{l.current.data.datasets[0].pointBackgroundColor=A("--cui-info"),l.current.update()})};return document.documentElement.addEventListener("ColorSchemeChange",r),()=>{document.documentElement.removeEventListener("ColorSchemeChange",r)}},[]),e.jsxs(E,{className:n,xs:{gutter:4},children:[e.jsx(u,{sm:6,xl:4,xxl:3,children:e.jsx(j,{to:"/statistics/users",style:{textDecoration:"none"},children:e.jsx(g,{color:"primary",value:a.length,title:"Users",action:e.jsxs(v,{alignment:"end",children:[e.jsx(D,{color:"transparent",caret:!1,className:"text-white p-0",children:e.jsx(b,{icon:S})}),e.jsxs(w,{children:[e.jsx(i,{children:"Action"}),e.jsx(i,{children:"Another action"}),e.jsx(i,{children:"Something else here..."}),e.jsx(i,{disabled:!0,children:"Disabled action"})]})]}),chart:e.jsx(M,{ref:o,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:A("--cui-primary"),data:[65,59,84,84,51,55,40]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:30,max:89,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1,tension:.4},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})})}),e.jsx(u,{sm:6,xl:4,xxl:3,children:e.jsx(j,{to:"/Dash/statistics/entrepreneurs",style:{textDecoration:"none"},children:e.jsx(g,{color:"info",value:x.length,title:"Entrepreneurs",action:e.jsxs(v,{alignment:"end",children:[e.jsx(D,{color:"transparent",caret:!1,className:"text-white p-0",children:e.jsx(b,{icon:S})}),e.jsxs(w,{children:[e.jsx(i,{children:"Action"}),e.jsx(i,{children:"Another action"}),e.jsx(i,{children:"Something else here..."}),e.jsx(i,{disabled:!0,children:"Disabled action"})]})]}),chart:e.jsx(M,{ref:l,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:A("--cui-info"),data:[1,18,9,17,34,22,11]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:-9,max:39,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})})}),e.jsx(u,{sm:6,xl:4,xxl:3,children:e.jsx(j,{to:"/Dash/statistics/programs",style:{textDecoration:"none"},children:e.jsx(g,{color:"warning",value:h.length,title:"Programs",action:e.jsxs(v,{alignment:"end",children:[e.jsx(D,{color:"transparent",caret:!1,className:"text-white p-0",children:e.jsx(b,{icon:S})}),e.jsxs(w,{children:[e.jsx(i,{children:"Action"}),e.jsx(i,{children:"Another action"}),e.jsx(i,{children:"Something else here..."}),e.jsx(i,{disabled:!0,children:"Disabled action"})]})]}),chart:e.jsx(M,{className:"mt-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[78,81,80,45,34,12,40],fill:!0}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{display:!1},y:{display:!1}},elements:{line:{borderWidth:2,tension:.4},point:{radius:0,hitRadius:10,hoverRadius:4}}}})})})}),e.jsx(u,{sm:6,xl:4,xxl:3,children:e.jsx(j,{to:"/Dash/statistics/sessions",style:{textDecoration:"none"},children:e.jsx(g,{color:"danger",value:s.length,title:"Sessions",action:e.jsxs(v,{alignment:"end",children:[e.jsx(D,{color:"transparent",caret:!1,className:"text-white p-0",children:e.jsx(b,{icon:S})}),e.jsxs(w,{children:[e.jsx(i,{children:"Action"}),e.jsx(i,{children:"Another action"}),e.jsx(i,{children:"Something else here..."}),e.jsx(i,{disabled:!0,children:"Disabled action"})]})]}),chart:e.jsx(z,{className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July","August","September","October","November","December","January","February","March","April"],datasets:[{label:"My First dataset",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[78,81,80,45,34,12,40,85,65,23,12,98,34,84,67,82],barPercentage:.6}]},options:{maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1,drawTicks:!1},ticks:{display:!1}},y:{grid:{display:!1,drawTicks:!1,drawBorder:!1},ticks:{display:!1}}}}})})})})]})};B.propTypes={className:c.string};const X=()=>{const n=p(a=>a.userData.userData),[o,l]=m.useState([]),x=H();m.useEffect(()=>{L.post("/tasksByUser",{userId:n._id}).then(a=>{const r=a.data.map(t=>{let d;switch(t.status){case"completed":d="green";break;case"inProgress":d="blue";break;case"notStarted":d="gray";break;case"cancelled":d="red";break;case"expired":d="orange";break;case"valid":d="purple";break;default:d="black"}return{id:t._id,title:t.taskName,start:t.startDate,end:t.endDate,color:d,extendedProps:{description:t.description,status:t.status}}});l(r)}).catch(a=>{console.error("Error fetching tasks",a)})},[n]);const h=a=>{const r=a.event.id;x(`/dash/${r}`)},s=a=>e.jsx("div",{className:"event-content",children:e.jsx("b",{children:a.event.title})});return e.jsx("div",{className:"fullcalendar-container",children:e.jsx(Y,{plugins:[K],initialView:"dayGridMonth",events:o,eventClick:h,eventContent:s,eventMouseEnter:a=>{a.el.style.cursor="pointer",a.el.style.transition="transform 0.2s, box-shadow 0.2s",a.el.style.transform="scale(1.05)",a.el.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.2)"},eventMouseLeave:a=>{a.el.style.transform="none",a.el.style.boxShadow="none"},headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek,dayGridDay"},height:"auto",contentHeight:"auto"})})},ee=()=>{const n=p(s=>s.userData.userData),[o,l]=m.useState([]);m.useEffect(()=>{L.post("/tasksByUser",{userId:n._id}).then(s=>{const a=s.data.map(r=>{let t;switch(r.status){case"completed":t="success";break;case"inProgress":t="primary";break;case"notStarted":t="secondary";break;case"cancelled":t="danger";break;case"expired":t="warning";break;case"valid":t="info";break;default:t="dark"}const d=new Date(r.startDate).toLocaleDateString(),F=new Date(r.endDate).toLocaleDateString();return{...r,startDate:d,endDate:F,color:t}});l(a)}).catch(s=>{console.error("Error fetching tasks",s)})},[n]);const x={cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s"},h={transform:"translateY(-5px)",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"};return e.jsx(V,{children:e.jsx(E,{children:o.map((s,a)=>e.jsx(u,{xs:"12",sm:"6",md:"4",className:"mb-4",children:e.jsx(j,{to:`/Dash/${s._id}`,style:{textDecoration:"none"},onClick:()=>console.log("Clicked Task ID:",s._id),children:e.jsxs(f,{style:x,onMouseEnter:r=>{r.currentTarget.style.transform=h.transform,r.currentTarget.style.boxShadow=h.boxShadow},onMouseLeave:r=>{r.currentTarget.style.transform="none",r.currentTarget.style.boxShadow="none"},children:[e.jsxs(T,{children:[s.taskName,e.jsx(W,{color:s.color,className:"float-right",children:s.status})]}),e.jsxs(C,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Start Date:"})," ",s.startDate]}),e.jsxs("p",{children:[e.jsx("strong",{children:"End Date:"})," ",s.endDate]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",s.description]})]})]})})},a))})})},xe=()=>{const n=p(s=>s.usersSlice.users),[o,l]=m.useState(null),x=s=>{s.image.length>0?l(s):alert("Please upload a photo to view user details.")},h=()=>{l(null)};return e.jsx(e.Fragment,{children:o?e.jsx(O,{user:o,onBack:h}):e.jsxs(e.Fragment,{children:[e.jsx(B,{users:n,className:"mb-4"}),e.jsxs(E,{children:[e.jsx(u,{xs:6,children:e.jsxs(f,{className:"mb-4",children:[e.jsx(T,{children:"Online Users"}),e.jsx(C,{children:e.jsxs(_,{align:"middle",className:"mb-0 border table-sm",hover:!0,responsive:!0,children:[e.jsx(G,{className:"text-nowrap",children:e.jsxs(R,{children:[e.jsx(N,{className:"bg-body-tertiary text-center",children:e.jsx(b,{icon:Q})}),e.jsx(N,{className:"bg-body-tertiary",children:"Name"}),e.jsx(N,{className:"bg-body-tertiary text-center",children:"Points"}),e.jsx(N,{className:"bg-body-tertiary",children:"Role"})]})}),e.jsx(I,{children:n.map((s,a)=>e.jsxs(R,{onClick:()=>x(s),style:{cursor:"pointer"},children:[e.jsx(k,{className:"text-center",children:e.jsx(q,{size:"md",src:s.image.length>0?s.image:$,status:"success"})}),e.jsx(k,{children:e.jsx("div",{children:s.username})}),e.jsx(k,{className:"text-center",children:s.exp}),e.jsx(k,{children:e.jsx("div",{className:"fw-semibold text-nowrap",children:s.role})})]},a))})]})})]})}),e.jsxs(u,{xs:6,children:[e.jsxs(f,{className:"mb-4",children:[e.jsx(T,{children:"Calendar"}),e.jsx(C,{children:e.jsx(X,{})})]}),e.jsxs(f,{className:"mb-4",children:[e.jsx(T,{children:"Task List"}),e.jsx(C,{children:e.jsx(ee,{})})]})]})]})]})})};export{xe as default};
