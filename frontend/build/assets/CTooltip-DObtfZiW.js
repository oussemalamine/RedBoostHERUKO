import{r,_ as K,u as Q,R as o,a as c,c as U,P as t,X as W,d as Y}from"./index-CJ-wuhK9.js";import{i as q,u as Z,C as $}from"./cil-lock-locked-wpvjoNjh.js";import{g as ee}from"./getTransitionDurationFromElement-Cpu4p4hx.js";var D=function(e){typeof e=="function"&&e()},te=function(e){e.dispatchEvent(new Event("transitionend"))},ne=function(e,n,u){if(u===void 0&&(u=!0),!u){D(e);return}var l=5,y=ee(n)+l,d=!1,p=function(m){var v=m.target;v===n&&(d=!0,n.removeEventListener("transitionend",p),D(e))};n.addEventListener("transitionend",p),setTimeout(function(){d||te(n)},y)},re=function(e,n){switch(e){case"right":return q(n)?"left":"right";case"left":return q(n)?"right":"left";default:return e}},F=r.forwardRef(function(e,n){var u=e.children,l=e.animation,y=l===void 0?!0:l,d=e.className,p=e.container,m=e.content,v=e.delay,h=v===void 0?0:v,w=e.fallbackPlacements,j=w===void 0?["top","right","bottom","left"]:w,R=e.offset,A=R===void 0?[0,6]:R,k=e.onHide,C=e.onShow,N=e.placement,B=N===void 0?"top":N,S=e.trigger,i=S===void 0?["hover","focus"]:S,E=e.visible,I=K(e,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","trigger","visible"]),a=r.useRef(null),s=r.useRef(null),V=Q(n,a),H="tooltip".concat(r.useId()),L=r.useState(!1),g=L[0],x=L[1],M=r.useState(E),f=M[0],O=M[1],T=Z(),X=T.initPopper,z=T.destroyPopper,G=T.updatePopper,_=typeof h=="number"?{show:h,hide:h}:h,J={modifiers:[{name:"arrow",options:{element:".tooltip-arrow"}},{name:"flip",options:{fallbackPlacements:j}},{name:"offset",options:{offset:A}}],placement:re(B,s.current)};r.useEffect(function(){if(E){b();return}P()},[E]),r.useEffect(function(){if(g&&s.current&&a.current){X(s.current,a.current,J),setTimeout(function(){O(!0)},_.show);return}!g&&s.current&&a.current&&z()},[g]),r.useEffect(function(){!f&&s.current&&a.current&&ne(function(){x(!1)},a.current)},[f]);var b=function(){x(!0),C&&C()},P=function(){setTimeout(function(){O(!1),k&&k()},_.hide)};return r.useEffect(function(){G()},[m]),o.createElement(o.Fragment,null,o.cloneElement(u,c(c(c(c(c({},f&&{"aria-describedby":H}),{ref:s}),(i==="click"||i.includes("click"))&&{onClick:function(){return f?P():b()}}),(i==="focus"||i.includes("focus"))&&{onFocus:function(){return b()},onBlur:function(){return P()}}),(i==="hover"||i.includes("hover"))&&{onMouseEnter:function(){return b()},onMouseLeave:function(){return P()}})),o.createElement($,{container:p,portal:!0},g&&o.createElement("div",c({className:U("tooltip","bs-tooltip-auto",{fade:y,show:f},d),id:H,ref:V,role:"tooltip"},I),o.createElement("div",{className:"tooltip-arrow"}),o.createElement("div",{className:"tooltip-inner"},m))))});F.propTypes={animation:t.bool,children:t.node,container:t.any,content:t.oneOfType([t.string,t.node]),delay:t.oneOfType([t.number,t.shape({show:t.number.isRequired,hide:t.number.isRequired})]),fallbackPlacements:W,offset:t.any,onHide:t.func,onShow:t.func,placement:t.oneOf(["auto","top","right","bottom","left"]),trigger:Y,visible:t.bool};F.displayName="CTooltip";export{F as C};
