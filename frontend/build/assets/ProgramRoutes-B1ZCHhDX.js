import{i as ue,h as $,r as n,j as e,m as ie,n as H,g as O,q as je,Q as ge,S as be,w as se,x as E,U as fe,V as ye}from"./index-S12XTLqq.js";import Ne from"./Program-DMdvu8bq.js";import{Q as Ce,i as ve,C as Te,a as v,b as J,c as K,I as ce,d as ke,e as me,B as ne,f as ae,g as te,h as le,j as re,k as xe,l as we,m as De,n as oe,o as U,p as Se,q as M}from"./DefaultLayout-CQQTH5uK.js";import{e as V,f as P,a as f,g as w,h as Pe,i as X}from"./index.es-kNnK4f7I.js";import{a as T,b as k,c as Ie}from"./isObject-CucHfY3d.js";import{H as Fe}from"./index-CXs2eMgD.js";import{C as Re}from"./index.esm-B_SCpqsW.js";import{c as Ve,d as Ae}from"./index-C8HKBC_i.js";import{C as Y}from"./CInputGroup-CEczOEr_.js";import{C as de}from"./CInputGroupText-D49-tXhA.js";import{C as _e,c as Ee}from"./cil-user-DhR-T0AK.js";import{C as Le,a as ee}from"./CPaginationItem-Bl42ciXJ.js";import"./index-DPtzIEp-.js";import"./CTooltip-t9eFWT78.js";import"./chart-Dp4mhDtA.js";var he=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M472,96H384V40H352V96H160V40H128V96H40a24.028,24.028,0,0,0-24,24V456a24.028,24.028,0,0,0,24,24H472a24.028,24.028,0,0,0,24-24V120A24.028,24.028,0,0,0,472,96Zm-8,352H48V128h80v40h32V128H352v40h32V128h80Z' class='ci-primary'/><rect width='32' height='32' x='112' y='224' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='200' y='224' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='280' y='224' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='368' y='224' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='112' y='296' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='200' y='296' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='280' y='296' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='368' y='296' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='112' y='368' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='200' y='368' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='280' y='368' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='368' y='368' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/>"];const Be=({task:t})=>{const{taskId:a}=ue();console.log("Received Task:",a);const c=$(),[l,h]=n.useState(t||{}),[y,m]=n.useState(""),[o,j]=n.useState(""),[x,g]=n.useState(""),[N,u]=n.useState(""),[C,d]=n.useState("");n.useState("");const[b,D]=n.useState(null);n.useEffect(()=>{(async()=>{try{const r=await ie.post("https://redboost-65f83dc8cbf1.herokuapp.com/loadTaskById",{taskId:a});console.log("Task details fetched successfully:",r.data),setTask(r.data)}catch(r){console.error("Error fetching task details:",r)}})()},[a]),n.useEffect(()=>{h(t||{})},[t]);const A=()=>{if(t.status==="inProgress"&&t.deliverables.length===0){alert("Please add a deliverable before changing the status");return}let s="";t.status==="completed"?s="Task in progress":s="Task completed";const r={...t,status:t.status==="completed"?"inProgress":"completed"};c(H({taskId:t._id,taskData:r})),h(r),setStatusMessage(s)},S=s=>{ne.error(`The ${s} field is required.`,{autoClose:3e3})},_=s=>{window.open(s,"_blank")},W=()=>{if(y==="")return S("Kpi Label");if(o==="")return S("Kpi Value");const s={...t,kpis:[...t.kpis,{label:y,count:o}]};c(H({taskId:t._id,taskData:s})),h(s)},z=async s=>{if(s.preventDefault(),x==="")return S("Deliverable Name");if(!b)return S("Deliverable File");try{const r=new FormData;r.append("file",b),console.log("Uploading file:",b);const B=await ie.post("https://redboost-65f83dc8cbf1.herokuapp.com/upload",r,{headers:{"Content-Type":"multipart/form-data"}});console.log("Upload response:",B.data);const F={...t,deliverables:[...t.deliverables,{fileName:x||b.name,fileUrl:B.data.secure_url}]};c(H({taskId:t._id,taskData:F})),h(F),g(""),D(null)}catch(r){console.error("Error uploading file:",r),ne.error("Failed to upload file. Please try again.")}},G=()=>{if(N==="")return S("Rapport Title");if(C==="")return S("Rapport Text");const s={...t,reports:[...t.reports,{label:N,count:C}]};c(H({taskId:t._id,taskData:s})),h(s)},L=s=>{const r=["primary","secondary","success","danger","warning","info","light","dark"];return r[s%r.length]},q=s=>!isNaN(Date.parse(s)),Q=s=>q(s)?new Date(s).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"}):"";return e.jsxs(e.Fragment,{children:[e.jsx(Ce,{}),e.jsxs(V,{children:[e.jsx(P,{children:e.jsx("div",{className:"card mb-3",style:{maxWidth:"540px"},children:e.jsxs("div",{className:"row g-0",children:[e.jsx("div",{className:"col-md-4",children:e.jsx("img",{src:ve,alt:"Trendy Pants and Shoes",className:"img-fluid rounded-start"})}),e.jsx("div",{className:"col-md-8",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title",children:"Task Details"}),e.jsxs("p",{className:"card-text",children:[e.jsx("strong",{children:"Task Name:"})," ",l.taskName]}),e.jsxs("p",{className:"card-text",children:[e.jsx("strong",{children:"Task Owner:"})," ",l.taskOwner]}),e.jsxs("p",{className:"card-text",children:[e.jsx("strong",{children:"Target Date:"})," ",l.endDate?Q(l.endDate):"No target date set"]}),e.jsxs("p",{className:"card-text",children:[e.jsx("strong",{children:"Status:"})," ",l.status]}),l.status==="inProgress"?e.jsx(Te,{className:"mb-3",style:{display:t.status==="notStarted"?"none":"block"},id:"flexCheckChecked",label:"I have Completed The Task",checked:t.status==="completed",onChange:A}):e.jsxs("p",{className:" text-center text-success",children:["this Task is ",l.status]})]})})]})})}),e.jsx(P,{children:e.jsxs(T,{children:[e.jsx(v,{className:"bg-dark text-light",children:"Resources"}),e.jsx(k,{children:e.jsxs("div",{children:[e.jsxs("h5",{children:[l.taskName," Resources:"]}),e.jsx(J,{children:l.resources.map((s,r)=>e.jsx(K,{children:e.jsx(f,{href:s.url,download:!0,color:"link",children:s.fileName})},r))})]})})]})})]}),e.jsxs(T,{className:"mt-3 mb-3",children:[e.jsx(v,{className:"bg-dark text-light",children:"Sections"}),e.jsxs(k,{children:[e.jsxs(T,{className:"mt-3 mb-3",children:[e.jsx(v,{className:"bg-info text-light",children:"KPIs"}),e.jsx(k,{children:e.jsxs(J,{children:[e.jsx("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center"},children:l.kpis.map((s,r)=>e.jsxs("div",{className:`card text-bg-${L(r)} mb-3`,style:{minWidth:"260px",marginRight:"10px"},children:[e.jsxs("div",{className:"card-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:["KPI-",r," ",e.jsx(ce,{})]}),e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title",children:s.label}),e.jsx("p",{className:"card-text",children:s.count})]})]},r))}),e.jsxs(K,{children:[e.jsx("label",{htmlFor:"newKpiLabel",children:"Label:"}),e.jsx(w,{id:"newKpiLabel",placeholder:"KPI Label",value:y,onChange:s=>m(s.target.value),className:"mt-3 mb-3"}),e.jsx("label",{htmlFor:"newKpiValue",children:"Value:"}),e.jsx(w,{id:"newKpiValue",placeholder:"KPI Value",value:o,onChange:s=>j(s.target.value),className:"mt-3 mb-3"}),e.jsx(f,{style:{backgroundColor:"#00cc99"},onClick:()=>W(),className:"mt-3 mb-3",children:"Add KPI"})]})]})})]}),e.jsxs(T,{className:"mt-3 mb-3",children:[e.jsx(v,{className:"bg-info text-light",children:"Documents"}),e.jsx(k,{children:e.jsxs(J,{children:[l.deliverables.map((s,r)=>e.jsx(K,{children:e.jsx(f,{onClick:()=>_(s.fileUrl),color:"link",children:s.fileName})},r)),e.jsx(K,{children:e.jsxs(Ie,{onSubmit:z,children:[e.jsx("label",{htmlFor:"newDeliverableName",children:"Name:"}),e.jsx(w,{id:"newDeliverableName",placeholder:"Deliverable Name",value:x,onChange:s=>g(s.target.value)}),e.jsx("label",{htmlFor:"newDeliverableFile",className:"mt-3 mb-3",children:"Upload File:"}),e.jsx("input",{id:"newDeliverableFile",name:"deliverableFile",type:"file",onChange:s=>{console.log("Selected deliverable file:",s.target.files[0]),D(s.target.files[0])}}),e.jsx(f,{style:{backgroundColor:"#00cc99"},type:"submit",className:"mt-3 mb-3",children:"Add Deliverable"})]})})]})})]}),e.jsxs(T,{className:"mt-3 mb-3",children:[e.jsx(v,{className:"bg-info text-light",children:"Reporting Section"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center",padding:"20px"},children:l.reports.map((s,r)=>e.jsxs("div",{style:{minWidth:"300px",margin:"10px"},className:`card radius-10 border-start border-0 border-3 border-${L(r)} shadow`,children:[e.jsx(ce,{style:{position:"absolute",top:"0",right:"0",fontSize:"20px",margin:"5px"}}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-0 text-secondary",children:s.label}),e.jsx("p",{className:"mb-0 font-13",children:s.count})]}),e.jsx("div",{className:"widgets-icons-2 rounded-circle bg-gradient-ohhappiness text-white ms-auto",children:e.jsx("i",{className:"fa fa-bar-chart"})})]})})]}))}),e.jsxs(k,{children:[e.jsx(w,{placeholder:"Title",value:N,onChange:s=>u(s.target.value),className:"mb-3"}),e.jsx(ke,{placeholder:"Text",value:C,onChange:s=>d(s.target.value),className:"mt-3 mb-3"}),e.jsx(f,{style:{backgroundColor:"#00cc99"},onClick:()=>G(),className:"mt-3 mb-3",children:"Add Reporting Section"})]})]}),e.jsxs(T,{className:"mt-3 mb-3",children:[e.jsx(v,{className:"bg-info text-light",children:"Comment Section"}),e.jsx(k,{children:e.jsx(me,{})})]})]})]})]})};function He({selectedTask:t,setSelectedtask:a}){const c=n.useRef(null),l=m=>{const o=m.target.files[0];if(!o)return;const j={name:o.name,size:o.size};a(x=>({...x,uploadFiles:[...x.uploadFiles,j]}))},h=()=>{c.current.click()},y=m=>{a(o=>({...o,uploadFiles:o.uploadFiles.filter((j,x)=>x!==m)}))};return e.jsxs("div",{className:"upload-box",children:[e.jsxs("form",{action:"",onClick:h,children:[e.jsx("input",{type:"file",className:"file-upload-input",name:"file",hidden:!0,ref:c,onChange:l}),e.jsx("div",{className:"icon",children:e.jsx(Ve,{className:"cloud-icon",style:{color:"#0c77ad"}})}),e.jsx("p",{children:"Browse File To Upload"})]}),e.jsx("section",{className:"uploaded-area",children:t.uploadFiles.map((m,o)=>e.jsx("li",{className:"row",onClick:()=>y(o),children:e.jsxs("div",{className:"content-upload",children:[e.jsx("i",{children:e.jsx(Ae,{})}),e.jsx("div",{className:"details",children:e.jsx("span",{className:"name",children:m.name})})]})},o))})]})}function Ke({visible:t,setVisible:a,selectedTask:c,setSelectedtask:l}){return e.jsxs(ae,{visible:t,onClose:()=>a(!1),"aria-labelledby":"LiveDemoExampleLabel",backdrop:"static",children:[e.jsx(te,{closeButton:!0,children:e.jsx(le,{id:"LiveDemoExampleLabel",children:"Edit Card"})}),e.jsxs(re,{style:{height:"450px",overflow:"auto"},className:"modal-body",children:[e.jsx("div",{className:"mb-3",children:e.jsx(w,{type:"text",id:"taskTitle",placeholder:"Task Title","aria-describedby":"taskTitleHelpInline",value:c.taskName})}),e.jsx("div",{className:"mb-3",children:e.jsx(w,{type:"date",id:"taskDate",placeholder:"Task Date",value:c.targetDate})})]}),e.jsxs(xe,{children:[e.jsx(f,{color:"danger",children:"cancel"}),e.jsx(f,{color:"primary",children:"Save"})]})]})}function Ue(){return e.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[e.jsx("div",{className:"card bg-success text-white m-2",style:{width:"300px"},children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title",children:"This is a title"}),e.jsx("p",{className:"card-text",children:"This is body text inside my Bootstrap card."})]})}),e.jsx("div",{className:"card bg-danger text-white m-2",style:{width:"300px"},children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title",children:"This is a title"}),e.jsx("p",{className:"card-text",children:"This is body text inside my Bootstrap card."})]})}),e.jsx("div",{className:"card bg-warning text-white m-2",style:{width:"300px"},children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title",children:"This is a title"}),e.jsx("p",{className:"card-text",children:"This is body text inside my Bootstrap card."})]})}),e.jsx("div",{className:"card bg-secondarytext-white m-2",style:{width:"300px"},children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title",children:"This is a title"}),e.jsx("p",{className:"card-text",children:"This is body text inside my Bootstrap card."})]})})]})}function Me({open:t,setOpen:a,selectedTask:c}){const l=()=>{a(!1)};return e.jsxs(ae,{fullscreen:!0,visible:t,onClose:l,"aria-labelledby":"FullscreenExample1",children:[e.jsx(te,{children:e.jsx(le,{id:"FullscreenExample1",children:c.title})}),e.jsxs(re,{style:{backgroundColor:"#eee"},children:[e.jsxs(V,{className:"mb-0",children:[e.jsx(P,{xs:12,md:6,children:e.jsx(Ue,{selectedTask:c})}),e.jsx(P,{xs:12,md:6,children:e.jsx(He,{})})]}),e.jsx(V,{className:"mb-0",children:e.jsx(me,{})})]})]})}function $e({open:t,setOpen:a,handleAddTask:c,activity:l}){const[h,y]=n.useState(""),[m,o]=n.useState(""),[j,x]=n.useState(""),[g,N]=n.useState(""),u=O(d=>d.usersSlice.users),C=d=>{if(d.preventDefault(),!h||!m||!j||!g)alert("All fields are required");else{const b=new Date;b.setHours(0,0,0,0);const D=new Date(m);D.setHours(0,0,0,0);const A={taskName:h,startDate:m,endDate:j,status:D>b?"notStarted":"inProgress",color:D>b?"blue":"pink",taskOwner:g};c(A),a(!1)}};return e.jsx(e.Fragment,{children:e.jsxs(ae,{visible:t,onClose:()=>a(!1),"aria-labelledby":"LiveDemoExampleLabel",backdrop:"static",children:[e.jsx(te,{onClose:()=>a(!1),children:e.jsx(le,{id:"LiveDemoExampleLabel",children:"Add Task"})}),e.jsxs(re,{children:[e.jsx(w,{label:"Task Name:",className:"mb-3",type:"text",id:"name",name:"name",placeholder:"Task Name",value:h,onChange:d=>y(d.target.value)}),e.jsxs(Y,{className:"mb-3",children:[e.jsx(de,{id:"basic-addon2",children:"Start Date"}),e.jsx(w,{type:"date",id:"start date",placeholder:"Enter start date",value:m,onChange:d=>o(d.target.value)})]}),e.jsxs(Y,{className:"mb-3",children:[e.jsx(de,{id:"basic-addon2",children:"End Date"}),e.jsx(w,{type:"date",id:"end date",placeholder:"Enter end date",value:j,onChange:d=>x(d.target.value)})]}),e.jsx(Y,{className:"mb-3",children:e.jsxs(_e,{"aria-label":"The Task Owner",onChange:d=>N(d.target.value),value:g,children:[e.jsx("option",{children:"Choose The Task Owner"}),u.map(d=>e.jsx("option",{value:d._id,children:d.username},d._id))]})})]}),e.jsxs(xe,{children:[e.jsx(f,{color:"danger",onClick:()=>a(!1),children:"Close"}),e.jsx(f,{color:"primary",onClick:C,children:"Add"})]})]})})}function Oe({activity:t,tasks:a}){const c=je(),[l,h]=n.useState(!1),[y,m]=n.useState(!1),[o,j]=n.useState(null),[x,g]=n.useState(!1),N=4,[u,C]=n.useState(1),d=u*N,b=d-N,D=a.slice(b,d),A=$(),S=i=>{C(i)},_=Math.ceil(a.length/N),W=()=>{u>1&&C(u-1)},z=()=>{u<_&&C(u+1)},G=i=>{const p={...i,xpPoints:0,resources:[],deliverables:[],kpis:[],activityId:t._id};console.log(p),A(ge(p)),g(!1)},L=()=>a.filter(i=>i.status==="valid").length,q=()=>a.filter(i=>i.status==="inProgress").length,Q=()=>a.filter(i=>i.status==="completed").length,s=()=>a.filter(i=>i.status==="notStarted").length,r=()=>a.filter(i=>i.status==="cancelled").length,B=()=>a.filter(i=>i.status==="expired").length,F=i=>{const p=window.location.pathname;c(`${p}/${i.taskName}`)},R=({status:i,tasks:p,color:Z})=>e.jsx(P,{xs:12,md:4,children:e.jsxs(T,{className:"mb-3 card",style:{height:"400px"},children:[e.jsx(v,{className:"text-light",style:{backgroundColor:Z,display:"flex",alignItems:"center",justifyContent:"space-between"},children:i}),e.jsx(k,{style:{overflow:"auto"},children:p.map((I,pe)=>I.status===i?e.jsx("div",{className:"Card_into_card",children:e.jsxs("div",{onClick:()=>F(I),className:"card border border-success shadow mb-3",style:{maxWidth:"400px",cursor:"pointer"},children:[e.jsx("div",{className:"card-header",children:e.jsx("strong",{children:I.taskName})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"text-muted mb-2",children:[e.jsx(X,{icon:Ee,className:"mr-1"}),"Assigned to: ",I.taskOwner]}),e.jsxs("div",{className:"text-muted mb-2",children:[e.jsx(X,{icon:he,className:"mr-1"}),"Start Date: ",new Date(I.startDate).toLocaleDateString()]}),e.jsxs("div",{className:"text-muted mb-2",children:[e.jsx(X,{icon:he,className:"mr-1"}),"End Date: ",new Date(I.endDate).toLocaleDateString()]}),e.jsx("div",{className:"text-muted",children:I.description})]})]})},pe):null)})]})});return e.jsxs(e.Fragment,{children:[x&&e.jsx($e,{setOpen:g,open:x,handleAddTask:G,activity:t}),e.jsxs(Pe,{style:{padding:"20px"},className:"mt-4",children:[o&&e.jsx(Ke,{visible:l,setVisible:h,selectedTask:o,setSelectedtask:j}),o&&e.jsx(Me,{open:y,setOpen:m,selectedTask:o}),e.jsx(V,{children:e.jsx(P,{children:e.jsx(f,{onClick:()=>g(!0),className:"mb-3",rounded:"lg",color:"primary",style:{float:"right"},children:"Add Task"})})}),e.jsxs(V,{className:"mb-3",children:[e.jsx(R,{status:"notStarted",tasks:a,color:"#006666"}),e.jsx(R,{status:"inProgress",tasks:a,color:"#fb5858"}),e.jsx(R,{status:"completed",tasks:a,color:"#0ca279"}),e.jsx(R,{status:"valid",tasks:a,color:"#074a38"}),e.jsx(R,{status:"expired",tasks:a,color:"#dab600"}),e.jsx(R,{status:"cancelled",tasks:a,color:"grey"})]}),e.jsxs(V,{children:[e.jsx(P,{children:e.jsxs(T,{className:"mb-3",children:[e.jsx(v,{className:"bg-dark text-light",children:"Recent Tasks"}),e.jsxs(k,{children:[e.jsx("style",{children:`
                    .table-row:hover {
                      cursor: pointer; /* Change the cursor to pointer */
                      transform: scale(1.05); /* Slightly increase the size */
                      transition: transform 0.8s ease; /* Smooth transition */
                      background-color: #e0e0e0; /* Change the background color on hover */
                      transition: background-color 0.8s ease; /* Smooth transition */
                    }
                    .Card_into_card:hover .card {
                      transform: scale(1.05); /* Slightly increase the size */
                      transition: transform 0.3s ease; /* Smooth transition */
                    }
                    
                  `}),e.jsxs(we,{striped:!0,responsive:!0,className:"text-center",children:[e.jsx(De,{children:e.jsxs(oe,{children:[e.jsx(U,{scope:"col",children:"Target Date"}),e.jsx(U,{scope:"col",children:"Task Name"}),e.jsx(U,{scope:"col",children:"Status"}),e.jsx(U,{scope:"col",children:"View"})]})}),e.jsx(Se,{children:D.map((i,p)=>e.jsxs(oe,{onClick:()=>F(i),className:"table-row rows_of_table",children:[e.jsx(M,{children:new Date(i.endDate).toLocaleDateString()}),e.jsx(M,{children:i.taskName}),e.jsx(M,{children:i.status}),e.jsx(M,{children:e.jsx(Fe,{role:"button",style:{fontSize:"25px",color:"#4CAF50"},onClick:Z=>{Z.stopPropagation(),F(i)}})})]},p))})]}),e.jsxs(Le,{align:"center",children:[e.jsx(ee,{onClick:W,disabled:u<=1,"aria-label":"Previous",children:"Previous"}),Array.from({length:_},(i,p)=>e.jsx(ee,{active:p+1===u,onClick:()=>S(p+1),children:p+1},p)),e.jsx(ee,{onClick:z,disabled:u>=_,"aria-label":"Next",children:"Next"})]})]})]})}),e.jsx(P,{children:e.jsxs(T,{className:"mb-3",children:[e.jsx(v,{className:"bg-dark text-light",children:"Task Progress"}),e.jsx(k,{children:e.jsx(Re,{type:"bar",data:{labels:["Total Tasks","In Progress","Completed","Valid","Expired","Cancelled","Not Started"],datasets:[{label:"Task Progress",backgroundColor:["pink","lightgreen","green","yellow","grey","blue"],data:[a.length,q(),Q(),L(),B(),r(),s()]}]},labels:"Status",options:{plugins:{legend:{labels:{color:"#adb7c5"}}},scales:{x:{grid:{color:"#adb7c5"},ticks:{color:"#adb7c5"}},y:{grid:{color:"#adb7c5"},ticks:{color:"#adb7c5"}}}}})})]})})]})]})]})}function We({activity:t}){const a=$(),c=O(l=>l.task.tasksByActivityId);return n.useEffect(()=>{a(be(t._id))},[a,t._id]),e.jsxs(se,{children:[e.jsx(E,{path:"/",element:e.jsx(Oe,{activity:t,tasks:c})}),c.map(l=>e.jsx(E,{path:`${l.taskName}/*`,element:e.jsx(Be,{task:l})},l._id))]})}const ze=({program:t})=>{console.log("ProgramWithActivities rendered");const a=$(),c=O(l=>l.activity.activitiesByProgramId||[]);return n.useEffect(()=>{a(fe(t._id)).then(l=>{l!=null&&l.payload&&a(ye(l.payload.map(h=>({path:`/Monitoring/${encodeURIComponent(t.programTitle)}/${encodeURIComponent(h.name)}`,name:h.name,activityId:h._id}))))})},[a,t._id,t.programTitle]),e.jsxs(se,{children:[e.jsx(E,{path:"/",element:e.jsx(Ne,{activities:c,program:t})}),c.map(l=>e.jsx(E,{path:`${l.name}/*`,element:e.jsx(We,{activity:l})},l._id))]})},ns=()=>{const t=O(a=>a.programsSlice.programs);return e.jsx(se,{children:t.map(a=>e.jsx(E,{name:a.programTitle,path:`/${a.programTitle}/*`,element:e.jsx(ze,{program:a})},a._id))})};export{ns as default};
