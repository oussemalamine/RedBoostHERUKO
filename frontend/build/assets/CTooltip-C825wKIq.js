import{r as o,_ as G,u as J,R as i,a as c,c as K,P as t,W as Q,d as U}from"./index-CLaqML1s.js";import{i as H,u as X,C as Y}from"./isObject-JkzVUAP2.js";import{g as Z}from"./getTransitionDurationFromElement-Cpu4p4hx.js";var D=function(e){typeof e=="function"&&e()},$=function(e){e.dispatchEvent(new Event("transitionend"))},ee=function(e,n,u){if(u===void 0&&(u=!0),!u){D(e);return}var l=5,y=Z(n)+l,f=!1,d=function(p){var m=p.target;m===n&&(f=!0,n.removeEventListener("transitionend",d),D(e))};n.addEventListener("transitionend",d),setTimeout(function(){f||$(n)},y)},te=function(e,n){switch(e){case"right":return H(n)?"left":"right";case"left":return H(n)?"right":"left";default:return e}},O=o.forwardRef(function(e,n){var u=e.children,l=e.animation,y=l===void 0?!0:l,f=e.className,d=e.container,p=e.content,m=e.delay,v=m===void 0?0:m,w=e.fallbackPlacements,_=w===void 0?["top","right","bottom","left"]:w,R=e.offset,q=R===void 0?[0,6]:R,E=e.onHide,T=e.onShow,k=e.placement,F=k===void 0?"top":k,L=e.trigger,a=L===void 0?["hover","focus"]:L,b=e.visible,j=G(e,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","trigger","visible"]),r=o.useRef(null),h=o.useRef(null),A=J(n,r),C=o.useRef("tooltip".concat(Math.floor(Math.random()*1e6))),P=X(),B=P.initPopper,N=P.destroyPopper,I=P.updatePopper,S=o.useState(!1),V=S[0],M=S[1],x=o.useState(b),g=x[0],s=x[1],W=typeof v=="number"?{show:v,hide:v}:v,z={modifiers:[{name:"arrow",options:{element:".tooltip-arrow"}},{name:"flip",options:{fallbackPlacements:_}},{name:"offset",options:{offset:q}}],placement:te(F,h.current)};return o.useEffect(function(){s(b)},[b]),o.useEffect(function(){return g&&(M(!0),r.current&&(r.current.classList.remove("fade","show"),N()),setTimeout(function(){h.current&&r.current&&(y&&r.current.classList.add("fade"),B(h.current,r.current,z),r.current.style.removeProperty("display"),r.current.classList.add("show"),T&&T())},W.show)),function(){r.current&&(r.current.classList.remove("show"),E&&E(),ee(function(){r.current&&(r.current.style.display="none"),N(),M(!1)},r.current))}},[g]),o.useEffect(function(){I()},[p]),i.createElement(i.Fragment,null,i.cloneElement(u,c(c(c(c(c({},g&&{"aria-describedby":C.current}),{ref:h}),(a==="click"||a.includes("click"))&&{onClick:function(){return s(!g)}}),(a==="focus"||a.includes("focus"))&&{onFocus:function(){return s(!0)},onBlur:function(){return s(!1)}}),(a==="hover"||a.includes("hover"))&&{onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)}})),i.createElement(Y,{container:d,portal:!0},V&&i.createElement("div",c({className:K("tooltip","bs-tooltip-auto",f),id:C.current,ref:A,role:"tooltip",style:{display:"none"}},j),i.createElement("div",{className:"tooltip-arrow"}),i.createElement("div",{className:"tooltip-inner"},p))))});O.propTypes={animation:t.bool,children:t.node,container:t.any,content:t.oneOfType([t.string,t.node]),delay:t.oneOfType([t.number,t.shape({show:t.number.isRequired,hide:t.number.isRequired})]),fallbackPlacements:Q,offset:t.any,onHide:t.func,onShow:t.func,placement:t.oneOf(["auto","top","right","bottom","left"]),trigger:U,visible:t.bool};O.displayName="CTooltip";export{O as C};
