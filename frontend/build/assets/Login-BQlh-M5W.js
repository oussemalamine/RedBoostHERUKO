import{r as n,_ as F,R as Z,d as _,e as q,P as y,k as G,u as T,a as $,j as s,i as D,L as M,b as V,m as B,n as W,o as J}from"./index-Dgl1zDmx.js";import{F as U,b as H}from"./index-DgS0vUhG.js";import{C as K,a as N,b as x,c as d,d as v,e as g}from"./index.es-DGnS_NCX.js";import{c as O,a as k,u as Q,b as X,C as S,d as A}from"./index.module-qjm4Prko.js";import{a as z,b as L,C as Y,c as ss}from"./isObject-BGDQLGre.js";import{C as R}from"./CInputGroup-U5TKUfyt.js";import{C as t}from"./CInputGroupText-Bo0iZUbG.js";import"./iconBase-BQhNUcDQ.js";var j=n.forwardRef(function(o,h){var c=o.children,i=o.className,r=F(o,["children","className"]);return Z.createElement("div",_({className:q("card-group",i)},r,{ref:h}),c)});j.propTypes={children:y.node,className:y.string};j.displayName="CCardGroup";var es=["32 32","<path d='M15.448 7.021c2.443 0 4.745 1.083 6.432 2.776v0.005c0-0.813 0.547-1.428 1.303-1.428h0.192c1.193 0 1.432 1.125 1.432 1.48l0.005 12.635c-0.083 0.828 0.855 1.256 1.376 0.724 2.025-2.083 4.452-10.719-1.261-15.719-5.328-4.667-12.479-3.896-16.281-1.276-4.041 2.792-6.624 8.959-4.115 14.755 2.74 6.319 10.573 8.204 15.235 6.324 2.36-0.953 3.448 2.233 0.995 3.276-3.697 1.577-14 1.416-18.812-6.917-3.251-5.629-3.079-15.531 5.547-20.661 6.593-3.927 15.292-2.839 20.536 2.636 5.48 5.729 5.163 16.448-0.187 20.615-2.423 1.895-6.021 0.052-5.995-2.709l-0.027-0.9c-1.687 1.671-3.932 2.651-6.375 2.651-4.833 0-9.088-4.256-9.088-9.084 0-4.88 4.255-9.181 9.088-9.181zM21.527 15.855c-0.183-3.537-2.808-5.667-5.98-5.667h-0.12c-3.656 0-5.687 2.88-5.687 6.145 0 3.661 2.453 5.973 5.672 5.973 3.593 0 5.952-2.629 6.124-5.739z'/>"];const as=/^(?!.*[._-]{2})(?!.*@\w*\d)(?!.*[@._-][^\w.-])[a-zA-Z0-9]+([._-]?[a-zA-Z0-9]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z]{2,}$/,os=O({email:k().email("Invalid email address").matches(as,"Invalid email address").required("Required"),password:k().required("Required").min(8,"At least 8 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^a-zA-Z0-9]).{8,}$/,"Password should be combination of one uppercase , one lower case, one special character, one digit and min 8 , max 20 char long")}),xs=()=>{const[o,h]=n.useState(!1),[c,i]=n.useState(""),r=G(),m=T(),[u,I]=n.useState(!1),p=$(e=>e.auth.isLogged);console.log("is logged login",p);const{values:C,handleChange:w,handleSubmit:P,touched:f,errors:l}=Q({initialValues:{email:"",password:""},validationSchema:os,onSubmit:async e=>{V.post("/login",e).then(a=>{console.log("response",a),console.log("Authentication successful",a.data);const{password:rs,confirmation:ts,_id:ns,...E}=a.data.user;m(B(E)),i(""),m(W(!0))}).catch(a=>{a.response&&i(a.response.data.error),console.log("Authentication failed",a)})}}),b=X((e,a)=>{m(J({key:e,value:a}))},250);return n.useEffect(()=>{p&&r("/dash")},[p,r]),s.jsxs("div",{className:"min-vh-100 d-flex flex-row align-items-center",style:{backgroundColor:"#044c54"},children:[o&&s.jsx(ForgetPass,{setVisible:h,visible:o}),s.jsx(K,{children:s.jsx(N,{className:"justify-content-center",children:s.jsx(x,{md:8,children:s.jsxs(j,{children:[s.jsx(z,{className:"p-4",children:s.jsx(L,{children:s.jsxs(Y,{onSubmit:P,children:[s.jsx("h1",{children:"Login"}),c.length>0?s.jsx(D,{color:"danger",children:c}):null,s.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),s.jsxs(R,{className:"mb-3",children:[s.jsx(t,{children:s.jsx(d,{icon:es})}),s.jsx(v,{name:"email",value:C.email,onChange:e=>{w(e),b("email",e.target.value)},placeholder:"Email",autoComplete:"email"}),l.email&&f.email&&s.jsx(S,{content:l.email,placement:"top",children:s.jsx(t,{children:s.jsx(d,{style:{color:"red"},icon:A})})})]}),s.jsxs(R,{className:"mb-4",children:[s.jsx(t,{children:s.jsx(d,{icon:ss})}),s.jsx(v,{name:"password",value:C.password,onChange:e=>{w(e),b("password",e.target.value)},type:u?"text":"password",placeholder:"Password",autoComplete:"current-password"}),s.jsx(t,{onClick:()=>I(!u),children:u?s.jsx(U,{}):s.jsx(H,{})}),l.password&&f.password&&s.jsx(S,{content:l.password,placement:"top",children:s.jsx(t,{children:s.jsx(d,{style:{color:"red"},icon:A})})})]}),s.jsxs(N,{children:[s.jsx(x,{xs:6,children:s.jsx(g,{type:"submit",style:{backgroundColor:"#044c54",color:"white"},className:"px-4",children:"Login"})}),s.jsx(x,{xs:6,className:"text-right",children:s.jsx(g,{onClick:()=>r("/password-reset"),color:"link",className:"px-0",children:"Forgot password?"})})]})]})})}),s.jsx(z,{style:{backgroundColor:"#cc2c44",width:"44%"},className:"text-white py-5",children:s.jsx(L,{className:"text-center",children:s.jsxs("div",{children:[s.jsx("h2",{children:"Sign up"}),s.jsx("p",{children:"Join us today to unlock exciting features and personalized experiences! Register now to start exploring."}),s.jsx(M,{to:"/register",children:s.jsx(g,{style:{backgroundColor:"#044c54",color:"white"},className:"mt-3",active:!0,tabIndex:-1,children:"Register Now!"})})]})})})]})})})})]})};export{xs as default};
